{
  "info": {
    "name": "Hotels & Bookings API",
    "description": "كل endpoints الـ Admin Hotels و Bookings + رفع الصور. غيّر baseUrl حسب البورت (مثلاً https://localhost:5091).",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "https://localhost:5091" },
    { "key": "hotelId", "value": "" },
    { "key": "roomId", "value": "" },
    { "key": "bookingId", "value": "" },
    { "key": "userId", "value": "" },
    { "key": "categoryId", "value": "" }
  ],
  "item": [
    {
      "name": "0 - Seed Data (احصل على الـ IDs)",
      "request": {
        "method": "GET",
        "header": [],
        "url": "{{baseUrl}}/api/Dev/seed-data",
        "description": "يعطيك Customer.Id (userId), Categories (اختر Hotel وخذ Id), SampleHotel (Id و RoomId)."
      }
    },
    {
      "name": "Upload - صورة فندق",
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "file", "type": "file", "src": "", "description": "اختر صورة JPG/PNG" }
          ]
        },
        "url": "{{baseUrl}}/api/v1/Upload/hotel-image",
        "description": "ارفع صورة ثم انسخ url من الـ response واستخدمها في mainImage عند إنشاء الفندق."
      }
    },
    {
      "name": "Upload - صورة غرفة",
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "file", "type": "file", "src": "", "description": "اختر صورة" }
          ]
        },
        "url": "{{baseUrl}}/api/v1/Upload/room-image",
        "description": "ارفع صورة ثم انسخ url لاستخدامها في photos عند إضافة غرفة."
      }
    },
    {
      "name": "Admin - Create Hotel",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"فندق التجربة\",\n  \"slug\": \"test-hotel-cairo\",\n  \"description\": \"فندق للتجربة في القاهرة.\",\n  \"latitude\": 30.0444,\n  \"longitude\": 31.2357,\n  \"street\": \"شارع التحرير 123\",\n  \"city\": \"Cairo\",\n  \"state\": \"Cairo\",\n  \"country\": \"Egypt\",\n  \"postalCode\": \"11511\",\n  \"mainImage\": \"https://example.com/hotel.jpg\",\n  \"gallery\": [],\n  \"checkInTime\": \"14:00\",\n  \"checkOutTime\": \"11:00\",\n  \"cancellationPolicy\": \"إلغاء مجاني قبل 24 ساعة.\",\n  \"contactPhone\": \"+201234567890\",\n  \"contactEmail\": \"info@testhotel.com\",\n  \"website\": \"https://testhotel.com\"\n}"
        },
        "url": "{{baseUrl}}/api/v1/admin/hotels",
        "description": "بعد التنفيذ انسخ id من الـ response وضعها في المتغير hotelId."
      }
    },
    {
      "name": "Admin - Update Hotel",
      "request": {
        "method": "PUT",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"فندق التجربة (محدّث)\",\n  \"description\": \"وصف محدّث.\",\n  \"latitude\": 30.0444,\n  \"longitude\": 31.2357,\n  \"street\": \"شارع التحرير 123\",\n  \"city\": \"Cairo\",\n  \"state\": \"Cairo\",\n  \"country\": \"Egypt\",\n  \"postalCode\": \"11511\",\n  \"mainImage\": \"https://example.com/hotel.jpg\",\n  \"checkInTime\": \"15:00\",\n  \"checkOutTime\": \"12:00\",\n  \"cancellationPolicy\": \"إلغاء مجاني قبل 48 ساعة.\",\n  \"contactPhone\": \"+201234567890\",\n  \"contactEmail\": \"info@testhotel.com\",\n  \"website\": \"https://testhotel.com\"\n}"
        },
        "url": "{{baseUrl}}/api/v1/admin/hotels/{{hotelId}}",
        "description": "يحتاج hotelId من Create Hotel أو من seed-data."
      }
    },
    {
      "name": "Admin - Add Room",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"hotelId\": \"{{hotelId}}\",\n  \"roomNumber\": \"101\",\n  \"name\": \"غرفة مزدوجة\",\n  \"description\": \"غرفة مزدوجة مريحة.\",\n  \"basePricePerNight\": 99.99,\n  \"photos\": []\n}"
        },
        "url": "{{baseUrl}}/api/v1/admin/hotels/{{hotelId}}/rooms",
        "description": "انسخ id الغرفة من الـ response إلى roomId."
      }
    },
    {
      "name": "Admin - Edit Room",
      "request": {
        "method": "PUT",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id\": \"{{roomId}}\",\n  \"name\": \"غرفة مزدوجة (محدّثة)\",\n  \"description\": \"وصف محدّث.\",\n  \"basePricePerNight\": 119.99\n}"
        },
        "url": "{{baseUrl}}/api/v1/admin/rooms/{{roomId}}"
      }
    },
    {
      "name": "Admin - Room Availability",
      "request": {
        "method": "PUT",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"roomId\": \"{{roomId}}\",\n  \"startDate\": \"2026-03-01\",\n  \"endDate\": \"2026-03-31\",\n  \"isAvailable\": true\n}"
        },
        "url": "{{baseUrl}}/api/v1/admin/rooms/{{roomId}}/availability"
      }
    },
    {
      "name": "Admin - Seasonal Pricing",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"roomId\": \"{{roomId}}\",\n  \"startDate\": \"2026-06-01\",\n  \"endDate\": \"2026-08-31\",\n  \"price\": 149.99\n}"
        },
        "url": "{{baseUrl}}/api/v1/admin/rooms/{{roomId}}/seasonal-pricing"
      }
    },
    {
      "name": "Bookings - Create (حجز فندق)",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"categoryId\": \"{{categoryId}}\",\n  \"itemId\": \"{{roomId}}\",\n  \"stayRange\": {\n    \"start\": \"2026-03-01T00:00:00\",\n    \"end\": \"2026-03-05T00:00:00\"\n  }\n}"
        },
        "url": "{{baseUrl}}/api/v1/bookings",
        "description": "userId و categoryId من seed-data. itemId = roomId. انسخ الـ booking id من الـ response إلى bookingId."
      }
    },
    {
      "name": "Bookings - Get By Id",
      "request": {
        "method": "GET",
        "header": [],
        "url": "{{baseUrl}}/api/v1/bookings/{{bookingId}}",
        "description": "يعرض تفاصيل الحجز. ضع bookingId من Create Booking."
      }
    }
  ]
}
